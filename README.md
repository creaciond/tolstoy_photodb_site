# База данных фотографий Л.Н. Толстого
_Код к сайту-демо для проекта «Инстаграм Толстого» (совместно с Государственным музеем Л.Н. Толстого)_

## Как это устроено?
В папке `static/` — статические файлы для работы сайте:

* исходники Materialize CSS,

* картинки фавикона и фотографии-заглушки для страницы ошибки

В папке `templates/` — HTML-шаблоны страниц.

Основной код сайта — в файле `tolstoy_photodb_site.py`. Запросы к базе вынесены в `db_work.py`, в `photo_desc.py` описан класс Photo, который используется на странице выдачи поиска, чтобы при необходимости можно было быстро определить, где какая часть описания фотографии, если их нужно поменять местами (сайт ещё сырой, и будут правки со стороны музея — так будет удобнее их вносить).

## Данные

Основная база лежит в этом же репозитории — `tolstoyphoto_db.sqlite3`. Таблицы в ней соотносятся с частями TEI-описания фотографии (доступно [в репозитории проекта](https://github.com/dhhse/tolstoy_instagram/blob/master/kamis-tei/TEI_desc_for_photos_sample.xml)):

* `photosID` — разные идентификаторы одной и той же фотографии
* `photosPublicationStmt` — данные о публикации фотографии
* `photosRevisionDesc` — изменения, внесённые в описание
* `photosSourceDesc` — описание самой фотографии
* `photosTitleStmt` — название и владелец фотографии

Все таблицы связаны по полю `idPhoto`, которое везде представляет один и тот же ID.
